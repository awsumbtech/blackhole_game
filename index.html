<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="theme-color" content="#060812" />
  <title>Black Hole: Galaxy Eater</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/game.css" />
</head>
<body>
  <div id="game-container">
    <canvas id="game" aria-label="Black Hole Galaxy Eater game"></canvas>

    <!-- In-canvas HUD overlay -->
    <div id="hud">
      <div class="hud-left">
        <div class="hud-stat">
          <span class="hud-label">Galaxy</span>
          <span class="hud-value" id="hud-galaxy">1</span>
        </div>
        <div class="hud-stat">
          <span class="hud-label">Objects</span>
          <span class="hud-value" id="hud-left">0</span>
        </div>
      </div>
      <div class="hud-center">
        <div id="hud-biome" class="hud-biome">Debris Reef</div>
        <div id="hud-progress-wrap" class="hud-progress-wrap">
          <div id="hud-progress-bar" class="hud-progress-bar"></div>
        </div>
      </div>
      <div class="hud-right">
        <div class="hud-stat">
          <span class="hud-label">Mass</span>
          <span class="hud-value" id="hud-mass">0</span>
        </div>
        <div class="hud-stat">
          <span class="hud-label">Best</span>
          <span class="hud-value" id="hud-best">1</span>
        </div>
      </div>
    </div>

    <!-- Galaxy transition overlay -->
    <div id="transition-overlay" class="transition-overlay hidden">
      <div class="transition-content">
        <div id="transition-galaxy" class="transition-galaxy">Galaxy 2</div>
        <div id="transition-biome" class="transition-biome">Comet Current</div>
        <div id="transition-count" class="transition-count">62 objects</div>
      </div>
    </div>

    <!-- Hint toast -->
    <div id="hint-toast" class="hint-toast hidden"></div>
  </div>

  <!-- Controls bar outside canvas -->
  <div id="controls-bar">
    <button id="btn-pause" class="ctrl-btn" title="Pause">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor"><rect x="4" y="3" width="3" height="12" rx="1"/><rect x="11" y="3" width="3" height="12" rx="1"/></svg>
    </button>
    <button id="btn-restart" class="ctrl-btn" title="Restart Galaxy">â†»</button>
    <div class="ctrl-sep"></div>
    <button id="btn-audio" class="ctrl-btn audio-on" title="Toggle Audio">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path class="audio-waves" d="M15.54 8.46a5 5 0 010 7.07M19.07 4.93a10 10 0 010 14.14"/></svg>
    </button>
    <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="40" title="Volume" />
    <div class="ctrl-sep"></div>
    <span class="ctrl-hint">WASD / Mouse to move</span>
    <div class="ctrl-spacer"></div>
    <button id="btn-reset" class="ctrl-btn ctrl-danger" title="Hard Reset">Reset All</button>
  </div>

  <script type="module" src="js/game.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/sw.js").catch(() => {});
    }
  </script>
</body>
</html>
